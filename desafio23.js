function Solucao(image) {
    var B = image.slice(1,-1).map(e=>e.slice(1,-1))
    
    return B.map((row,i) =>
        row.map((elem,j) => {
            var sum = 0
            for(var x=0;x<3;++x)
                for(var y=0;y<3;++y)
                    sum += image[i+x][j+y]
            return sum/9|0
        })
    )
}

//testes
var entradas = [
    [[1,1,1], [1,7,1], [1,1,1]],
    [[0,18,9], [27,9,0], [81,63,45]],
    [[36,0,18,9], [27,54,9,0], [81,63,72,45]],
    [[7,4,0,1], [5,6,2,2], [6,10,7,8], [1,4,2,0]],
    [[36,0,18,9,9,45,27], [27,0,54,9,0,63,90], [81,63,72,45,18,27,0], [0,0,9,81,27,18,45], [45,45,27,27,90,81,72], [45,18,9,0,9,18,45], [27,81,36,63,63,72,81]],
    [[36,0,18,9,9,45,27], [27,0,254,9,0,63,90], [81,255,72,45,18,27,0], [0,0,9,81,27,18,45], [45,45,227,227,90,81,72], [45,18,9,255,9,18,45], [27,81,36,127,255,72,81]]]
    
var saidas = [
    [[1]],
    [[28]],
    [[40,30]],
    [[5,4], [4,4]],
    [[39,30,26,25,31], [34,37,35,32,32], [38,41,44,46,42], [22,24,31,39,45], [37,34,36,47,59]],
    [[36,0,18,9,9,45,27], [27,0,254,9,0,63,90], [81,255,72,45,18,27,0], [0,0,9,81,27,18,45], [45,45,227,227,90,81,72], [45,18,9,255,9,18,45], [27,81,36,127,255,72,81]]]